# Code Review (코드 리뷰)

AI 생성 코드 또는 변경된 코드를 검토합니다.

## 실행 방법

### 옵션 1: 특정 파일 리뷰
```
/project:code-review [파일경로]
```

### 옵션 2: 최근 변경 리뷰
```
/project:code-review --changes
→ git diff로 변경된 파일들 리뷰
```

### 옵션 3: 전체 프로젝트 리뷰
```
/project:code-review --all
→ 주요 소스 파일 전체 리뷰
```

## 리뷰 체크리스트

### 1. 코드 이해도 (Understanding)
```
□ 코드의 목적이 명확한가?
□ 복잡한 로직에 주석이 있는가?
□ 함수/변수 이름이 의도를 설명하는가?
□ 매직 넘버 대신 상수를 사용하는가?
```

### 2. 코드 품질 (Quality)
```
□ 중복 코드가 있는가?
□ 함수가 한 가지 일만 하는가?
□ 적절한 에러 처리가 있는가?
□ 불필요한 복잡성이 있는가?
```

### 3. 잠재적 버그 (Bugs)
```
□ 엣지 케이스 처리가 있는가?
□ null/undefined 체크가 있는가?
□ 타입 오류 가능성이 있는가?
□ 무한 루프/재귀 가능성이 있는가?
```

### 4. 성능 (Performance)
```
□ 불필요한 반복이 있는가?
□ N+1 쿼리 문제가 있는가?
□ 메모리 누수 가능성이 있는가?
□ 비동기 처리가 적절한가?
```

### 5. 보안 (Security)
```
→ security-check 규칙 참조
```

## 리뷰 결과 형식

```markdown
# 📝 Code Review: [파일명]

**리뷰 일시**: [날짜]
**변경 라인**: [N줄]

## 요약
[전반적인 코드 품질 평가 - 1~2문장]

## 👍 잘된 점
- 명확한 함수 네이밍
- 적절한 에러 처리
- 일관된 코드 스타일

## 🔧 개선 필요

### 1. [라인 N] 중복 코드
**현재**:
```javascript
// 같은 패턴이 3곳에서 반복
```

**제안**:
```javascript
// 유틸리티 함수로 추출
```

**이유**: 유지보수성 향상, DRY 원칙

### 2. [라인 N] 잠재적 버그
**문제**: null 체크 누락
**영향**: 런타임 에러 발생 가능
**수정**:
```javascript
if (data?.items) { ... }
```

## ⚠️ 주의사항
- [특별히 주의해야 할 부분]

## 📊 점수
| 항목 | 점수 |
|------|------|
| 가독성 | ⭐⭐⭐⭐☆ |
| 유지보수성 | ⭐⭐⭐☆☆ |
| 안전성 | ⭐⭐⭐⭐☆ |
| 성능 | ⭐⭐⭐⭐☆ |

## 다음 단계
1. [우선순위 높음] null 체크 추가
2. [권장] 중복 코드 리팩토링
3. [선택] 주석 보강
```

## 자동 수정 제안

리뷰 완료 후:
```
개선이 필요한 부분을 발견했습니다.
자동으로 수정할까요? (y/n)

수정 항목:
1. ✅ null 체크 추가 (라인 23)
2. ⚠️ 중복 코드 추출 (수동 확인 필요)
3. ✅ 변수명 개선 (라인 45)
```

## 리뷰 우선순위

바이브 코딩에서 중요도:

```
🔴 Critical (반드시 수정)
- 보안 취약점
- 데이터 손실 가능성
- 명확한 버그

🟡 Important (수정 권장)
- 성능 문제
- 에러 처리 누락
- 코드 중복

🟢 Minor (개선 권장)
- 네이밍 개선
- 주석 추가
- 코드 스타일
```

## 커맨드 옵션

```
--focus=security   보안 중심 리뷰
--focus=perf       성능 중심 리뷰
--focus=style      코드 스타일 중심
--quick            간단 리뷰 (주요 이슈만)
--verbose          상세 리뷰
```
