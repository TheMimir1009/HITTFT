# Security Check (보안 점검)

프로젝트의 보안 취약점을 점검합니다.

## 실행 절차

### 1단계: 파일 스캔

다음 패턴의 파일들을 검사합니다:

```
스캔 대상:
- **/*.js, **/*.ts, **/*.jsx, **/*.tsx
- **/*.py
- **/*.env* (존재 여부만)
- **/*.config.*, **/*.json
```

### 2단계: 취약점 체크리스트

각 항목을 검사하고 결과를 보고합니다:

#### 🔴 Critical (즉시 수정 필요)

```
□ 하드코딩된 시크릿
  - API 키, 비밀번호, 토큰이 코드에 있는가?
  - 패턴: api_key, password, secret, token, credential
  
□ .env 파일 노출
  - .gitignore에 .env가 포함되어 있는가?
  - .env 파일이 git에 커밋되어 있는가?

□ SQL Injection 가능성
  - 문자열 연결로 SQL 쿼리를 만드는가?
  - 파라미터화된 쿼리를 사용하는가?

□ 위험한 함수 사용
  - eval(), exec() 사용 여부
  - pickle 사용 여부 (Python)
  - innerHTML 직접 사용 여부
```

#### 🟡 Warning (검토 필요)

```
□ 입력 검증
  - 사용자 입력에 검증 로직이 있는가?
  - 서버 측 검증이 있는가?

□ 에러 처리
  - 상세 에러가 사용자에게 노출되는가?
  - 스택 트레이스가 응답에 포함되는가?

□ 인증/권한
  - 검증된 라이브러리를 사용하는가?
  - 직접 구현한 인증 로직이 있는가?

□ 의존성
  - package-lock.json / requirements.txt가 있는가?
  - 알려진 취약점이 있는 패키지가 있는가?
```

#### 🟢 Info (권장사항)

```
□ HTTPS 설정
□ CORS 설정
□ Rate Limiting
□ 로깅 (민감 정보 제외)
```

### 3단계: 결과 보고

검사 결과를 다음 형식으로 출력합니다:

```markdown
# 🔒 Security Check Report

**검사 일시**: [날짜]
**검사 파일 수**: [N개]

## 🔴 Critical Issues (즉시 수정)

### 1. [파일명:라인]
- **문제**: 하드코딩된 API 키 발견
- **위험**: 키 노출 시 무단 접근 가능
- **해결**: 환경 변수로 이동
```python
# Before
api_key = "sk-1234567890"

# After
api_key = os.environ.get("API_KEY")
```

## 🟡 Warnings (검토 필요)

### 1. [파일명:라인]
- **문제**: SQL 쿼리 문자열 연결 사용
- **권장**: 파라미터화된 쿼리 사용

## 🟢 Passed

- ✅ .gitignore에 .env 포함
- ✅ 검증된 인증 라이브러리 사용
- ✅ 에러 메시지 일반화

## 권장 조치

1. [우선순위 높음] API 키를 환경 변수로 이동
2. [우선순위 중간] SQL 쿼리 파라미터화
3. [권장] npm audit / pip-audit 실행

---
*이 보고서는 자동 생성되었으며, 수동 보안 검토를 대체하지 않습니다.*
```

### 4단계: 자동 수정 제안

Critical 이슈 발견 시:
1. 수정 코드 제안
2. 사용자 승인 후 적용
3. 수정 후 재검사

## 추가 명령

```bash
# 의존성 취약점 검사 (Node.js)
npm audit

# 의존성 취약점 검사 (Python)
pip-audit

# 시크릿 스캔 (git-secrets 설치 필요)
git secrets --scan
```

## 주의사항

- 이 검사는 기본적인 패턴 매칭 기반
- 전문적인 보안 감사를 대체하지 않음
- 프로덕션 배포 전 추가 검토 권장
